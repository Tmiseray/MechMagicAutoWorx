components:
  schemas:
    CustomerAccount:
      type: object
      required:
        - customer_id
        - email
        - password
      properties:
        id:
          type: integer
        customer_id:
          type: integer
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 8
        customer:
          $ref: "#/components/schemas/Customer"

    Customer:
      allOf:
        - $ref: "customers.yaml#/components/schemas/Customer"
        - type: object
          properties:
            id:
              not: {}
            email:
              not: {}
            account:
              not: {}
